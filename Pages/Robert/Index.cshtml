@page "{searchString?}"
@model MusicDB.Pages.Robert.IndexModel

@{
    ViewData["Title"] = "Robert's Song Page";
}

<head>
    <link rel="stylesheet" href="~/css/robert.css">
</head>

<div class="container">
    <main>
        <h1 class="mt-3">@ViewData["Title"]</h1>
        <form class="p-2">
            Artist: <select asp-for="ArtistName" asp-items="Model.Artists">
                <option value="">All</option>
            </select>
            Title: <input type="text" asp-for="SearchString" />
            <input type="submit" value="Filter" class="btn" />
            <a asp-page="./Create">Create New</a>
        </form>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Song[0].SongTitle)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Song[0].Artist)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Song[0].Genre)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Song[0].Album)
                    </th>
                    <th>Song Options</th>
                </tr>
            </thead>
            <tbody>
        @foreach (var item in Model.Song) {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.SongTitle)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Artist)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Genre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Album)
                    </td>
                    <td>
                        <a asp-page="./Edit" asp-route-id="@item.Id">Edit</a>
                        <a asp-page="./Details" asp-route-id="@item.Id">Details</a>
                        <a asp-page="./Delete" asp-route-id="@item.Id">Delete</a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </main>
</div>
